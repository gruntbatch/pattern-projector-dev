<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pattern Projector</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="corner-b-handle" class="bg-blue fg-light flex-row flex-centered handle h-2 rounded w-2">
        <span class="mono">NW</span>
    </div>
    <div id="corner-a-handle" class="bg-blue fg-light flex-row flex-centered handle h-2 rounded w-2">
        <span class="mono">NE</span>
    </div>
    <div id="corner-c-handle" class="bg-blue fg-light flex-row flex-centered handle h-2 rounded w-2">
        <span class="mono">SW</span>
    </div>
    <div id="corner-d-handle" class="bg-blue fg-light flex-row flex-centered handle h-2 rounded w-2">
        <span class="mono">SE</span>
    </div>

    <div id="menu" class="bg-light-trans flex-column flex-spaced">
        <div id="precision-drawer" class="drawer flex-column rounded bg-light">
            <div class="flex-row h-2 bg-blue fg-light">
                <h2 class="flex-grow p-x-1">Precision</h2>
            </div>
            <div id="precision-field" class="flex-row h-2 p-x-1">
                <a id="reset">Reset</a>
                <span id="display" class="mono">1.0</span>
            </div>
        </div>

        <div id="ruler-drawer" class="drawer flex-column rounded bg-light">
            <div class="flex-row h-2">
                <h2 id="ruler-tab" class="flex-grow flex-row h-2 p-x-1 rounded-top-left button fg-light">Ruler</h2>
                <h2 id="pattern-tab" class="flex-grow flex-row h-2 p-x-1 rounded-top-right button fg-light">Pattern</h2>
            </div>

            <div id="ruler-contents">
                <div id="pixels-per-line-field" class="flex-row h-2 p-x-1">
                    <span class="p-r-1">Thickness</span>
                    <a id="reset" class="p-r-1">Reset</a>
                    <span class="flex-grow align-right mono"><a id="decrement">-</a> <a id="increment">+</a> <span id="display">1.0</span> pixels</span>
                </div>
                <div id="units-per-quad-field" class="flex-row h-2 p-x-1">
                    <span class="p-r-1">Scale</span>
                    <a id="reset" class="p-r-1">Reset</a>
                    <span class="flex-grow align-right mono"><a id="decrement">-</a> <a id="increment">+</a> <span id="display">1.0</span> inches</span>
                </div>
            </div>

            <div id="pattern-contents">
                <div class="flex-row h-2 p-x-1">
                    <input id="pattern-input" class="display-none" type="file" />
                    <a id="load-pattern-button">Load Pattern</a>
                </div>

                <div id="precision-field" class="flex-row h-2 p-x-1">
                    <b class="p-r-1">Scale</b>
                    <a id="reset">Reset</a>
                    <span id="display" class="flex-grow align-right mono">1.0</span>
                </div>

                <div class="flex-row h-3">
                    <div id="origin-field" class="flex-grow flex-column">
                        <div id="field-x" class="flex-row p-x-1">
                            <b>Origin</b>
                            <span class="mono">x <span id="display-x">1.0</span></span>
                        </div>
                        <div id="field-y" class="flex-row p-x-1">
                            <a id="reset">Reset</a>
                            <span class="mono">y <span id="display-y">1.0</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="corners-drawer" class="drawer flex-column rounded bg-light">
            <div class="flex-row h-2 bg-blue fg-light">
                <h2 class="flex-grow p-x-1">Corners</h2>
            </div>

            <div id="precision-field" class="flex-row h-2 p-x-1">
                <span class="p-r-1">Precision</span>
                <a id="reset">Reset</a>
                <span id="display" class="flex-grow align-right mono">1.0</span>
            </div>

            <div class="flex-row h-3">
                <div id="corner-b-field" class="flex-column w-50">
                    <div id="field-x" class="flex-row p-x-1">
                        <b>NW</b>
                        <span class="mono">x <span id="display-x">1.0</span></span>
                    </div>
                    <div id="field-y" class="flex-row p-x-1">
                        <a id="reset">Reset</a>
                        <span class="mono">y <span id="display-y">1.0</span></span>
                    </div>
                </div>
                <div id="corner-a-field" class="flex-column w-50">
                    <div id="field-x" class="flex-row p-x-1">
                        <b>NE</b>
                        <span class="mono">x <span id="display-x">1.0</span></span>
                    </div>
                    <div id="field-y" class="flex-row p-x-1">
                        <a id="reset">Reset</a>
                        <span class="mono">y <span id="display-y">1.0</span></span>
                    </div>
                </div>
            </div>
            <div class="flex-row h-3">
                <div id="corner-c-field" class="flex-column w-50">
                    <div id="field-x" class="flex-row p-x-1">
                        <b>SW</b>
                        <span class="mono">x <span id="display-x">1.0</span></span>
                    </div>
                    <div id="field-y" class="flex-row p-x-1">
                        <a id="reset">Reset</a>
                        <span class="mono">y <span id="display-y">1.0</span></span>
                    </div>
                </div>
                <div id="corner-d-field" class="flex-column w-50">
                    <div id="field-x" class="flex-row p-x-1">
                        <b>SE</b>
                        <span class="mono">x <span id="display-x">1.0</span></span>
                    </div>
                    <div id="field-y" class="flex-row p-x-1">
                        <a id="reset">Reset</a>
                        <span class="mono">y <span id="display-y">1.0</span></span>
                    </div>
                </div>
            </div>
            <div class="flex-row h-2">
                <span></span>
                <div class="flex-column p-x-1">
                    <a id="reset-all-corners">Reset All</a>
                </div>
            </div>
        </div>

        <div id="configuration-drawer" class="drawer flex-column rounded bg-light">
            <div class="flex-row h-2 bg-blue fg-light">
                <h2 class="flex-grow p-x-1">Configuration</h2>
            </div>
            <div class="flex-row h-2 p-x-1">
                <a id="save-calibration" class="w-50" download="calibration.txt">Save Calibration</a>
                <input id="calibration-input" class="display-none" type="file" />
                <a id="load-calibration" class="w-50">Load Calibration</a>
            </div>
        </div>
    </div>

    <!-- <div id="ruler-origin-handle" class="bg-blue fg-light flex-row flex-centered handle h-2 rounded w-2">
        <span class="mono">O</span>
    </div>
    <div id="pattern-origin-handle" class="bg-blue fg-light flex-row flex-centered handle h-2 rounded w-2">
        <span class="mono">O</span>
    </div> -->
    <canvas id="gl-canvas"></canvas>
    <canvas id="pdf-canvas" class="display-none"></canvas>
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.14.305/build/pdf.min.js" integrity="sha256-HyYlSbhjYnxbc8y6bMUhGGQ1q+mEOHM2FDWZzwKc/qg=" crossorigin="anonymous"></script>
    <script type="module" src="js/index.js"></script>
</body>

</html>